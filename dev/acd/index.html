<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Acoustic distance · Phonetics.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Phonetics.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Phonetics.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../vowelplot/">Vowel plotting</a></li><li class="is-active"><a class="tocitem" href>Acoustic distance</a><ul class="internal"><li><a class="tocitem" href="#Computing-acoustic-distance"><span>Computing acoustic distance</span></a></li><li><a class="tocitem" href="#Sequence-averaging"><span>Sequence averaging</span></a></li><li><a class="tocitem" href="#Acoustic-distinctiveness"><span>Acoustic distinctiveness</span></a></li><li><a class="tocitem" href="#Function-documentation"><span>Function documentation</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><a class="tocitem" href="../lc/">Lexical characteristics</a></li><li><a class="tocitem" href="../textvptree/">Text VP Tree</a></li><li><a class="tocitem" href="../phon_spectrogram/">Spectrograms</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Acoustic distance</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Acoustic distance</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/maetshju/Phonetics.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Acoustic-distance"><a class="docs-heading-anchor" href="#Acoustic-distance">Acoustic distance</a><a id="Acoustic-distance-1"></a><a class="docs-heading-anchor-permalink" href="#Acoustic-distance" title="Permalink"></a></h1><p>Recent work has used <a href="https://en.wikipedia.org/wiki/Dynamic_time_warping">dynamic time warping</a> on sequences of <a href="https://en.wikipedia.org/wiki/Mel-frequency_cepstrum">Mel frequency cepstral coefficient (MFCC)</a> vectors to compute a form of acoustic distance (Mielke, 2012; Kelley, 2018; Kelley &amp; Tucker, 2018; Bartetlds et al., 2020). There are a number of convenience functions provided in this package. For the most part, they wrap the <a href="https://github.com/baggepinnen/DynamicAxisWarping.jl">DynamicAxisWarping.jl</a> and <a href="https://github.com/JuliaDSP/MFCC.jl">MFCC.jl</a> packages. See also the <a href="https://corpustools.readthedocs.io/en/latest/acoustic_similarity.html">Phonological CorpusTools page on acoustic similarity</a>.</p><h2 id="Computing-acoustic-distance"><a class="docs-heading-anchor" href="#Computing-acoustic-distance">Computing acoustic distance</a><a id="Computing-acoustic-distance-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-acoustic-distance" title="Permalink"></a></h2><p>Let&#39;s start by creating some sample sounds to work with. You could also load in your own sounds from file as well using the <code>Sound</code> constructor that takes a filename.</p><pre><code class="language-julia hljs">using Random
rng = MersenneTwister(9)
x = rand(rng, 1, 1000)
y = rand(rng, 1, 3000)
acdist(x, y)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">128.5382477647987</code></pre><p>The output value is the result of performing dynamic time warping on the <code>x</code> and <code>y</code>. If <code>x</code> and <code>y</code> are <code>Sound</code> objects (in this example, they are not), they will first be converted to MFCC vectors with the <code>sound2mfcc</code> function. This value has been found to situate phonological similarity in terms of acoustics (Mielke, 2012), reflect aspects of the activation/competition process during spoken word recognition (Kelley, 2018; Kelley &amp; Tucker, 2018), and judgments of nativelike pronunciation (Bartelds et al., 2020).</p><p>As an implementation note, the distance metric used to compare the MFCC vectors is the squared Euclidean distance between two vectors.</p><h2 id="Sequence-averaging"><a class="docs-heading-anchor" href="#Sequence-averaging">Sequence averaging</a><a id="Sequence-averaging-1"></a><a class="docs-heading-anchor-permalink" href="#Sequence-averaging" title="Permalink"></a></h2><p>Kelley &amp; Tucker (2018) also used the dynamic barycenter averaging (Petitjean et al., 2011) technique to create &quot;average&quot; acoustic representations of English words, in an attempt to better model the kind of acoustic representation a listener may be accessing when hearing a word (given that a listener has heard most words more than just once). The interface for calculating the average sequence is with the <code>avgseq</code> function.</p><pre><code class="language-julia hljs">using Random
rng = MersenneTwister(9)
x = rand(rng, 1000)
y = rand(rng, 3000)
z = rand(rng, 10000)
a = [Sound(x, 8000), Sound(y, 8000), Sound(z, 8000)]
avgseq(a)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">13×36 Matrix{Float64}:
  15.5042     15.3827      15.4891     …   15.4959     15.5196     15.6319
 -32.974     -31.0656     -30.5978        -31.821     -30.9982    -32.2402
  -6.58161    -7.59358     -5.95746        -6.51342    -5.81628    -6.52048
  -6.90518   -11.6106      -9.51348        -7.90932    -6.12832    -6.88405
   2.43805    -6.84897     -3.71971        -2.2706     -1.91239    -3.16708
   0.435474   -6.01483     -9.38888    …   -1.07369    -7.71319    -2.86996
   4.41804    -3.30033      0.0447839      -2.34971     0.296673    2.73236
   0.304654    3.79358      6.17691        -2.38894     1.65544     2.57971
   3.28059    15.7686       4.79525         6.3325      0.623664    3.96259
   2.71743     8.60756      8.06177         3.78983   -10.0412      7.60993
  -3.43174    -0.0267343    5.89553    …    4.69502    -0.809725    2.54183
   0.967363    0.450934     0.712783       -1.8821      0.244977   -1.14452
   5.34803     0.960416     1.08785         0.672639    2.74868    -0.329657</code></pre><h2 id="Acoustic-distinctiveness"><a class="docs-heading-anchor" href="#Acoustic-distinctiveness">Acoustic distinctiveness</a><a id="Acoustic-distinctiveness-1"></a><a class="docs-heading-anchor-permalink" href="#Acoustic-distinctiveness" title="Permalink"></a></h2><p>Kelley (2018) and Kelley &amp; Tucker (2018) introduced the concept of acoustic distinctiveness. It is how far away a word is, on average, from all the other words in a language. The <code>distinctiveness</code> function performs this calculation.</p><pre><code class="language-julia hljs">using Random
rng = MersenneTwister(9)
x = rand(rng, 1000)
y = rand(rng, 3000)
z = rand(rng, 10000)
a = [Sound(x, 8000), Sound(y, 8000), Sound(z, 8000)]
distinctiveness(a[1], a[2:3])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">45165.66072314731</code></pre><p>The number is effectively an index of how acoustically unique a word is in a language.</p><h2 id="Function-documentation"><a class="docs-heading-anchor" href="#Function-documentation">Function documentation</a><a id="Function-documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Function-documentation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Phonetics.acdist-Tuple{Any, Any}" href="#Phonetics.acdist-Tuple{Any, Any}"><code>Phonetics.acdist</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">acdist(s1, s2; [method=:dtw, dist=SqEuclidean(), radius=10])</code></pre><p>Calculate the acoustic distance between <code>s1</code> and <code>s2</code> with <code>method</code> version of dynamic time warping and <code>dist</code> as the interior distance function. Using <code>method=:dtw</code> uses vanilla dynamic time warping, while <code>method=:fastdtw</code> uses the fast dtw approximation. Note that this is not a true mathematical distance metric because dynamic time warping does not necessarily satisfy the triangle inequality, nor does it guarantee the identity of indiscernibles.</p><p><strong>Args</strong></p><ul><li><code>s1</code> Features-by-time array of first sound to compare</li><li><code>s2</code> Features-by-time array of second sound to compare</li><li><code>method</code> (keyword) Which method of dynamic time warping to use</li><li><code>dist</code> (keyword) Any distance function implementing the <code>SemiMetric</code> interface from the <code>Distances</code> package</li><li><code>dtwradius</code> (keyword) maximum warping radius for vanilla dynamic timew warping; if no value passed, no warping constraint is used argument unused when method=:fastdtw</li><li><code>fastradius</code> (keyword) The radius to use for the fast dtw method; argument unused when method=:dtw</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maetshju/Phonetics.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Phonetics.acdist" href="#Phonetics.acdist"><code>Phonetics.acdist</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">acdist(s1::Sound, s2::Sound, rep=:mfcc; [method=:dtw, dist=SqEuclidean(), radius=10])</code></pre><p>Convert <code>s1</code> and <code>s2</code> to a frequency representation specified by <code>rep</code>, then calculate acoustic distance between <code>s1</code> and <code>s2</code>. Currently only <code>:mfcc</code> is supported for <code>rep</code>, using defaults from the <code>MFCC</code> package except that the first coefficient for each frame is removed and replaced with the sum of the log energy of the filterbank in that frame, as is standard in ASR.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maetshju/Phonetics.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Phonetics.avgseq-Tuple{Any}" href="#Phonetics.avgseq-Tuple{Any}"><code>Phonetics.avgseq</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">avgseq(S; [method=:dtw, dist=SqEuclidean(), radius=10, center=:medoid, dtwradius=nothing, progress=false])</code></pre><p>Return a sequence representing the average of the sequences in <code>S</code> using the dba method for sequence averaging. Supports <code>method=:dtw</code> for vanilla dtw and <code>method=:fastdtw</code> for fast dtw approximation when performing the sequence comparisons. With <code>center=:medoid</code>, finds the medoid as the sequence to use as the initial center, and with <code>center=:rand</code> selects a random element in <code>S</code> as the initial center.</p><p><strong>Args</strong></p><ul><li><code>S</code> An array of sequences to average</li><li><code>method</code> (keyword) The method of dynamic time warping to use</li><li><code>dist</code> (keyword) Any distance function implementing the <code>SemiMetric</code> interface from the <code>Distances</code> package</li><li><code>radius</code> (keyword) The radius to use for the fast dtw method; argument unused when method=:dtw</li><li><code>center</code> (keyword) The method used to select the initial center of the sequences in <code>S</code></li><li><code>dtwradius</code> (keyword) How far a time step can be mapped when comparing sequences; passed directly to <code>DTW</code> function from <code>DynamicAxisWarping</code>; if set to <code>nothing</code>, the length of the longest sequence will be used, effectively removing the radius restriction</li><li><code>progress</code> Whether to show the progress coming from <code>dba</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maetshju/Phonetics.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Phonetics.avgseq" href="#Phonetics.avgseq"><code>Phonetics.avgseq</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">avgseq(S::Array{Sound}, rep=:mfcc; [method=:dtw, dist=SqEuclidean(), radius=10, center=:medoid, dtwradius=nothing, progress=false])</code></pre><p>Convert the <code>Sound</code> objects in <code>S</code> to a representation designated by <code>rep</code>, then find the average sequence of them. Currently only <code>:mfcc</code> is supported for <code>rep</code>, using defaults from the <code>MFCC</code> package except that the first coefficient for each frame is removed and replaced with the sum of the log energy of the filterbank in that frame, as is standard in ASR.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maetshju/Phonetics.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Phonetics.distinctiveness-Tuple{Any, Any}" href="#Phonetics.distinctiveness-Tuple{Any, Any}"><code>Phonetics.distinctiveness</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">distinctiveness(s, corpus; [method=:dtw, dist=SqEuclidean(), radius=10, reduction=mean])</code></pre><p>Calculates the acoustic distinctiveness of <code>s</code> given the corpus <code>corpus</code>. The <code>method</code>, <code>dist</code>, and <code>radius</code> arguments are passed into <code>acdist</code>. The <code>reduction</code> argument can be any function that reduces an iterable to one number, such as <code>mean</code>, <code>sum</code>, or <code>median</code>. </p><p>For more information, see Kelley (2018, September, How acoustic distinctiveness affects spoken word recognition: A pilot study, DOI: 10.7939/R39G5GV9Q) and Kelley &amp; Tucker (2018, Using acoustic distance to quantify lexical competition, DOI: 10.7939/r3-wbhs-kr84).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maetshju/Phonetics.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Phonetics.distinctiveness" href="#Phonetics.distinctiveness"><code>Phonetics.distinctiveness</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">distinctiveness(s::Sound, corpus::Array{Sound}, rep=:mfcc; [method=:dtw, dist=SqEuclidean(), radius=10, reduction=mean])</code></pre><p>Converts <code>s</code> and <code>corpus</code> to a representation specified by <code>rep</code>, then calculates the acoustic distinctiveness of <code>s</code> given <code>corpus</code>. Currently only <code>:mfcc</code> is supported for <code>rep</code>, using defaults from the <code>MFCC</code> package except that the first coefficient for each frame is removed and replaced with the sum of the log energy of the filterbank in that frame, as is standard in ASR.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/maetshju/Phonetics.jl">source</a></section></article><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><p>Bartelds, M., Richter, C., Liberman, M., &amp; Wieling, M. (2020). A new acoustic-based pronunciation distance measure. <em>Frontiers in Artificial Intelligence, 3</em>, 39.</p><p>Mielke, J. (2012). <em>A phonetically based metric of sound similarity. Lingua, 122</em>(2), 145-163.</p><p>Kelley, M. C. (2018). How acoustic distinctiveness affects spoken word recognition: A pilot study. Presented at the 11th International Conference on the Mental Lexicon (Edmonton, AB). <a href="https://doi.org/10.7939/R39G5GV9Q">https://doi.org/10.7939/R39G5GV9Q</a></p><p>Kelley, M. C., &amp; Tucker, B. V. (2018). Using acoustic distance to quantify lexical competition. University of Alberta ERA (Education and Research Archive). <a href="https://doi.org/10.7939/r3-wbhs-kr84">https://doi.org/10.7939/r3-wbhs-kr84</a></p><p>Petitjean, F., Ketterlin, A., &amp; Gançarski, P. (2011). A global averaging method for dynamic time warping, with applications to clustering. <em>Pattern Recognition, 44</em>(3), 678–693.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../vowelplot/">« Vowel plotting</a><a class="docs-footer-nextpage" href="../lc/">Lexical characteristics »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Tuesday 1 November 2022 21:50">Tuesday 1 November 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
